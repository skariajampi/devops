---
  - name: "Start Nexus, Sonarqube and Login to Nexus Docker repository"
    hosts: localhost
    connection: local
    tasks:
      - name: "Wait for nexus docker container to start"
        wait_for:
          port: 10001
          delay: 10
          state: started
          timeout: 30

      - name: "login to nexus docker repo"
        shell: "docker login -u admin -p Password123 localhost:10002"
        register: "output"

      - debug: var=output.stdout_lines

